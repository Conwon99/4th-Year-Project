
//https://lastminuteengineers.com/handling-esp32-gpio-interrupts-tutorial/

int ButtonPin = 35;
uint32_t  ButtonPresses =0;
bool pressed = false;

void IRAM_ATTR Button_ISR() {
  
  ButtonPresses += 1;
  pressed = true;
  //button1.pressed = true;
}

void setup() {
  // put your setup code here, to run once:
  
Serial.begin(115200);
pinMode(ButtonPin,INPUT_PULLUP);
attachInterrupt(ButtonPin, Button_ISR, FALLING);

}

void loop() {

//Serial.println(digitalRead(ButtonPin));
  if (pressed)
  {
        Serial.printf("Button 1 has been pressed %u times\n",ButtonPresses);
        // Print to display
              

        pressed = false;
  }
  
  //Serial.println(digitalRead(ButtonPin));

}
